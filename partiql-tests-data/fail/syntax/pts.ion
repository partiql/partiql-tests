'projection-pathing'::[
  {
    name:"foo[*] is disallowed",
    statement:"SELECT foo[*] FROM foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"foo.*.bar is disallowed",
    statement:"SELECT foo.*.bar FROM foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"foo['a'].* is disallowed",
    statement:"SELECT foo['a'].* FROM foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"foo[a].* is disallowed",
    statement:"SELECT foo[a].* FROM foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"foo[1].* is disallowed",
    statement:"SELECT foo[1].* FROM foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
]

// To be determined whether it's allowed or errors
'select-star'::[
  {
    name:"disallowed uses of *, *",
    statement:"SELECT *, * FROM <<1>>",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"disallowed uses of *, alias.*",
    statement:"SELECT *, foo.* FROM <<{ a: 1 }>> as foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"disallowed uses of alias.*, *",
    statement:"SELECT foo.*, * FROM <<{ a: 1 }>> as foo",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"disallowed uses of <expr>, *",
    statement:"SELECT 1, * FROM <<{ a: 1 }>>",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"disallowed uses of *, <expr>",
    statement:"SELECT *, 1 FROM <<{ a: 1 }>>",
    assert:[
      {
        evalMode:EvalModeError,
        result:EvaluationFail
      },
      {
        result:EvaluationSuccess,
        evalMode:EvalModeCoerce,
        output:$missing::null
      }
    ]
  }
]
