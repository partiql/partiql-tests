// Adding `text_replace` tests in the "extended" folder since the function name is not part of any SQL spec
text_replace::[
  {
    name:"text_replace('abcdefabcdef', 'cd', 'XX')",
    statement:"text_replace('abcdefabcdef', 'cd', 'XX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abXXefabXXef"
    }
  },
  {
    name:"text_replace('abcdefabcdef', 'xyz', 'XX')",
    statement:"text_replace('abcdefabcdef', 'xyz', 'XX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abcdefabcdef"
    }
  },
  {
    name:"text_replace('abcdefabcdef', 'defab', '')",
    statement:"text_replace('abcdefabcdef', 'defab', '')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abccdef"
    }
  },
  {
    name:"text_replace('abcabcabcdef', 'abcabc', 'XXX')",
    statement:"text_replace('abcabcabcdef', 'abcabc', 'XXX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"XXXabcdef"
    }
  },
  {
    name:"text_replace('abcabcabcdef', '', 'X')",
    statement:"text_replace('abcabcabcdef', '', 'X')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"XaXbXcXaXbXcXaXbXcXdXeXfX"
    }
  },
  {
    name:"text_replace('', 'abc', 'XX')",
    statement:"text_replace('', 'abc', 'XX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:""
    }
  },
  {
    name:"text_replace('', '', 'XX')",
    statement:"text_replace('', '', 'XX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"XX"
    }
  },
  {
    name:"text_replace('abcdefabcdef', 'def', '游때游')",
    statement:"text_replace('abcdefabcdef', 'def', '游때游')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abc游때游료bc游때游"
    }
  },
  {
    name:"text_replace('abc游때游료bc游때游', '游때游', 'def')",
    statement:"text_replace('abc游때游료bc游때游', '游때游', 'def')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abcdefabcdef"
    }
  },
  {
    name:"text_replace('abcdefabcdef', 'def', 'd游때游')",
    statement:"text_replace('abcdefabcdef', 'def', 'd游때游')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abcd游때游료bcd游때游"
    }
  },
  {
    name:"text_replace('abcdefabcdef', 'def', 'de龕쁝')",
    statement:"text_replace('abcdefabcdef', 'def', 'de龕쁝')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abcde龕쁝abcde龕쁝"
    }
  },
  {
    name:"text_replace('abcde龕쁝abcde龕쁝', 'def', 'XX')",
    statement:"text_replace('abcde龕쁝abcde龕쁝', 'def', 'XX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abcde龕쁝abcde龕쁝"
    }
  },
  {
    name:"text_replace('abcde龕쁝abcde龕쁝', 'de龕쁝', 'XX')",
    statement:"text_replace('abcde龕쁝abcde龕쁝', 'de龕쁝', 'XX')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:"abcXXabcXX"
    }
  },
  {
    name:"text_replace NULL first arg",
    statement:"text_replace(NULL, 'foo', 'bar')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:null
    }
  },
  {
    name:"text_replace NULL second arg",
    statement:"text_replace('foo', NULL, 'bar')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:null
    }
  },
  {
    name:"text_replace NULL third arg",
    statement:"text_replace('foo', 'bar', NULL)",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:null
    }
  },
  {
    name:"text_replace MISSING first arg",
    statement:"text_replace(MISSING, 'foo', 'bar')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:$missing::null
    }
  },
  {
    name:"text_replace MISSING second arg",
    statement:"text_replace('foo', MISSING, 'bar')",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:$missing::null
    }
  },
  {
    name:"text_replace MISSING third arg",
    statement:"text_replace('foo', 'bar', MISSING)",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:$missing::null
    }
  },
  {
    name:"text_replace NULL and MISSING arg",
    statement:"text_replace(NULL, 'foo', MISSING)",
    assert:{
      result:EvaluationSuccess,
      evalMode:[EvalModeCoerce, EvalModeError],
      output:$missing::null
    }
  },
  {
    name:"text_replace mistyped first argument",
    statement:"text_replace(1, 'foo', 'bar')",
    assert:[
      {
        result:EvaluationFail,
        evalMode: EvalModeError,
      },
      {
        result:EvaluationSuccess,
        evalMode: EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"text_replace mistyped second argument",
    statement:"text_replace('foo', 1, 'bar')",
    assert:[
      {
        result:EvaluationFail,
        evalMode: EvalModeError,
      },
      {
        result:EvaluationSuccess,
        evalMode: EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
  {
    name:"text_replace mistyped third argument",
    statement:"text_replace('foo', 'bar', 1)",
    assert:[
      {
        result:EvaluationFail,
        evalMode: EvalModeError,
      },
      {
        result:EvaluationSuccess,
        evalMode: EvalModeCoerce,
        output:$missing::null
      }
    ]
  },
]
